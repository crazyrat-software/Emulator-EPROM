	LJMP START

	ORG 000Bh
	PUSH PSW
	PUSH ACC
	MOV TH0,#0FFH
	MOV TL0,#010H
	CLR 0
	DJNZ R2,SILENT
	MOV R2,B
	SETB 0
SILENT:
	POP ACC
	POP PSW
	RETI

START:
	MOV TMOD,#00010001B
	SETB EA
	SETB ET0
	MOV SP,#17H
	MOV R7,#0FFH		;DELAY
	MOV R6,#080H		;DELAY
	MOV R0,#00010000B	;WARTOSC PRZESUWANA
	MOV R1,#6		;ILOSC CYKLI
	MOV B,#2H		;ton
	SETB TR0

LEFT:
	LCALL SHOW
	LCALL DELAY
	MOV A,R0
	RLC A
	MOV R0,A
	SJMP LEFT
	DJNZ R1,LEFT
	MOV R1,#16
RIGHT:
	LCALL SHOW
	LCALL DELAY
	MOV A,R0
	RRC A
	MOV R0,A
	DJNZ R1,RIGHT
	MOV R1,#16
	SJMP LEFT


SHOW:
	MOV A,R0
	CPL A
	MOV P1,A
	RET

DELAY:
	NOP
	DJNZ R7,DELAY
	MOV R7,#0FFH
	DJNZ R6,DELAY
	MOV R6,#080H
	RET
