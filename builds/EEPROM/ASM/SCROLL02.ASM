	LJMP START

START:
	MOV SP,#1FH
	MOV R7,#0FFH
	MOV R6,#0B0H
	MOV R0,#10101010B
	MOV R1,#40

LEFT:
	CPL P3.2
	LCALL SHOW
	LCALL DELAY
	CPL P3.2
	LCALL DELAY
	MOV A,R0
	CPL A
	MOV R0,A
	DJNZ R1,LEFT
	MOV R1,#20
	MOV R0,#00110011B
RIGHT:
	CPL P3.2
	LCALL SHOW
	LCALL DELAY
	LCALL DELAY
	CPL P3.2
	LCALL DELAY
	LCALL DELAY
	MOV A,R0
	CPL A
	MOV R0,A
	DJNZ R1,RIGHT
	MOV R1,#40
	MOV R0,#10101010B
	SJMP LEFT


SHOW:
	MOV A,R0
	CPL A
	MOV P1,A
	RET

DELAY:
	NOP
	DJNZ R7,DELAY
	MOV R7,#0FFH
	DJNZ R6,DELAY
	MOV R6,#0B0H
	RET
